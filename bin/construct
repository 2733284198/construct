#!/usr/bin/env php

<?php

$autoloads = [
    __DIR__ . '/../../../autoload.php',
    __DIR__ . '/../vendor/autoload.php',
];

foreach ($autoloads as $autoload) {
    if (file_exists($autoload)) {
        require $autoload;
        break;
    }
}

use JonathanTorres\Construct\Commands\ConstructCommand;
use JonathanTorres\Construct\Commands\InteractiveCommand;
use JonathanTorres\Construct\Construct;
use JonathanTorres\Construct\Helpers\Filesystem;
use JonathanTorres\Construct\Helpers\Str;
use Symfony\Component\Console\Application;

$str = new Str();
$filesystem = new Filesystem();
$construct = new Construct($filesystem, $str);
$app = new Application('Construct', '1.14.1');
$app->add(new ConstructCommand($construct, $str, $filesystem));
$app->add(new InteractiveCommand($construct, $str));
$app->run();
